[{"user": {"following_url": "https://api.github.com/users/dagrh/following{/other_user}", "url": "https://api.github.com/users/dagrh", "site_admin": false, "gists_url": "https://api.github.com/users/dagrh/gists{/gist_id}", "node_id": "MDQ6VXNlcjYzMjk3NjA=", "starred_url": "https://api.github.com/users/dagrh/starred{/owner}{/repo}", "gravatar_id": "", "id": 6329760, "events_url": "https://api.github.com/users/dagrh/events{/privacy}", "avatar_url": "https://avatars1.githubusercontent.com/u/6329760?v=4", "login": "dagrh", "repos_url": "https://api.github.com/users/dagrh/repos", "subscriptions_url": "https://api.github.com/users/dagrh/subscriptions", "followers_url": "https://api.github.com/users/dagrh/followers", "html_url": "https://github.com/dagrh", "received_events_url": "https://api.github.com/users/dagrh/received_events", "type": "User", "organizations_url": "https://api.github.com/users/dagrh/orgs"}, "issue_url": "https://api.github.com/repos/rust-vmm/community/issues/13", "body": "I'm gently looking at using @jiangliu's crate for writing the daemon side of a virtio-fs daemon;  but it's pretty low down my list but I'll try and make some more time to look.\r\n", "updated_at": "2019-02-08T19:52:55Z", "url": "https://api.github.com/repos/rust-vmm/community/issues/comments/461926072", "author_association": "NONE", "html_url": "https://github.com/rust-vmm/community/issues/13#issuecomment-461926072", "created_at": "2019-02-08T19:52:55Z", "id": 461926072, "node_id": "MDEyOklzc3VlQ29tbWVudDQ2MTkyNjA3Mg=="}, {"user": {"following_url": "https://api.github.com/users/andreeaflorescu/following{/other_user}", "url": "https://api.github.com/users/andreeaflorescu", "site_admin": false, "gists_url": "https://api.github.com/users/andreeaflorescu/gists{/gist_id}", "node_id": "MDQ6VXNlcjI4MTU5NDQ=", "starred_url": "https://api.github.com/users/andreeaflorescu/starred{/owner}{/repo}", "gravatar_id": "", "id": 2815944, "events_url": "https://api.github.com/users/andreeaflorescu/events{/privacy}", "avatar_url": "https://avatars0.githubusercontent.com/u/2815944?v=4", "login": "andreeaflorescu", "repos_url": "https://api.github.com/users/andreeaflorescu/repos", "subscriptions_url": "https://api.github.com/users/andreeaflorescu/subscriptions", "followers_url": "https://api.github.com/users/andreeaflorescu/followers", "html_url": "https://github.com/andreeaflorescu", "received_events_url": "https://api.github.com/users/andreeaflorescu/received_events", "type": "User", "organizations_url": "https://api.github.com/users/andreeaflorescu/orgs"}, "issue_url": "https://api.github.com/repos/rust-vmm/community/issues/13", "body": "I would only have one mention. We should make sure that the memory-model crate is suitable for both CrosVM and Firecracker usecases. I will do some tests with the memory-model crate next week. I think @alexandruag had some concerns with the memfd. I'll let him chime in.", "updated_at": "2019-02-08T22:24:38Z", "url": "https://api.github.com/repos/rust-vmm/community/issues/comments/461967807", "author_association": "MEMBER", "html_url": "https://github.com/rust-vmm/community/issues/13#issuecomment-461967807", "created_at": "2019-02-08T22:24:38Z", "id": 461967807, "node_id": "MDEyOklzc3VlQ29tbWVudDQ2MTk2NzgwNw=="}, {"user": {"following_url": "https://api.github.com/users/sboeuf/following{/other_user}", "url": "https://api.github.com/users/sboeuf", "site_admin": false, "gists_url": "https://api.github.com/users/sboeuf/gists{/gist_id}", "node_id": "MDQ6VXNlcjIyODkwNDEz", "starred_url": "https://api.github.com/users/sboeuf/starred{/owner}{/repo}", "gravatar_id": "", "id": 22890413, "events_url": "https://api.github.com/users/sboeuf/events{/privacy}", "avatar_url": "https://avatars3.githubusercontent.com/u/22890413?v=4", "login": "sboeuf", "repos_url": "https://api.github.com/users/sboeuf/repos", "subscriptions_url": "https://api.github.com/users/sboeuf/subscriptions", "followers_url": "https://api.github.com/users/sboeuf/followers", "html_url": "https://github.com/sboeuf", "received_events_url": "https://api.github.com/users/sboeuf/received_events", "type": "User", "organizations_url": "https://api.github.com/users/sboeuf/orgs"}, "issue_url": "https://api.github.com/repos/rust-vmm/community/issues/13", "body": "@andreeaflorescu \r\n> We should make sure that the memory-model crate is suitable for both CrosVM and Firecracker usecases\r\n\r\nYes I agree with that, that's why I was mentioning we should erase what's in the repo, start from scratch, and submit PRs that everybody can look at.", "updated_at": "2019-02-08T22:27:55Z", "url": "https://api.github.com/repos/rust-vmm/community/issues/comments/461968642", "author_association": "MEMBER", "html_url": "https://github.com/rust-vmm/community/issues/13#issuecomment-461968642", "created_at": "2019-02-08T22:27:55Z", "id": 461968642, "node_id": "MDEyOklzc3VlQ29tbWVudDQ2MTk2ODY0Mg=="}, {"user": {"following_url": "https://api.github.com/users/jiangliu/following{/other_user}", "url": "https://api.github.com/users/jiangliu", "site_admin": false, "gists_url": "https://api.github.com/users/jiangliu/gists{/gist_id}", "node_id": "MDQ6VXNlcjE5MzE1MTY=", "starred_url": "https://api.github.com/users/jiangliu/starred{/owner}{/repo}", "gravatar_id": "", "id": 1931516, "events_url": "https://api.github.com/users/jiangliu/events{/privacy}", "avatar_url": "https://avatars0.githubusercontent.com/u/1931516?v=4", "login": "jiangliu", "repos_url": "https://api.github.com/users/jiangliu/repos", "subscriptions_url": "https://api.github.com/users/jiangliu/subscriptions", "followers_url": "https://api.github.com/users/jiangliu/followers", "html_url": "https://github.com/jiangliu", "received_events_url": "https://api.github.com/users/jiangliu/received_events", "type": "User", "organizations_url": "https://api.github.com/users/jiangliu/orgs"}, "issue_url": "https://api.github.com/repos/rust-vmm/community/issues/13", "body": "@andreeaflorescu @mcastelino @sameo @rbradford @jiangliu @zachreizner @sboeuf @dagrh \r\nI'm thinking about the relationship between vhostuser_rs and vhost in crosvm/firecracker. The crosVM and firecracker projects already have a kernel-based(ioctl) vhost implementation. And there are vhost drivers for net/vsock. So should we merge them into one unified crate with an architecture as below:\r\n                            \r\n![image](https://user-images.githubusercontent.com/1931516/52533958-22845700-2d76-11e9-9936-878046597d5d.png)\r\n", "updated_at": "2019-02-10T13:50:11Z", "url": "https://api.github.com/repos/rust-vmm/community/issues/comments/462129980", "author_association": "MEMBER", "html_url": "https://github.com/rust-vmm/community/issues/13#issuecomment-462129980", "created_at": "2019-02-10T12:49:32Z", "id": 462129980, "node_id": "MDEyOklzc3VlQ29tbWVudDQ2MjEyOTk4MA=="}, {"user": {"following_url": "https://api.github.com/users/andreeaflorescu/following{/other_user}", "url": "https://api.github.com/users/andreeaflorescu", "site_admin": false, "gists_url": "https://api.github.com/users/andreeaflorescu/gists{/gist_id}", "node_id": "MDQ6VXNlcjI4MTU5NDQ=", "starred_url": "https://api.github.com/users/andreeaflorescu/starred{/owner}{/repo}", "gravatar_id": "", "id": 2815944, "events_url": "https://api.github.com/users/andreeaflorescu/events{/privacy}", "avatar_url": "https://avatars0.githubusercontent.com/u/2815944?v=4", "login": "andreeaflorescu", "repos_url": "https://api.github.com/users/andreeaflorescu/repos", "subscriptions_url": "https://api.github.com/users/andreeaflorescu/subscriptions", "followers_url": "https://api.github.com/users/andreeaflorescu/followers", "html_url": "https://github.com/andreeaflorescu", "received_events_url": "https://api.github.com/users/andreeaflorescu/received_events", "type": "User", "organizations_url": "https://api.github.com/users/andreeaflorescu/orgs"}, "issue_url": "https://api.github.com/repos/rust-vmm/community/issues/13", "body": "It looks to me that with this architecture you are assuming that the backend for all virtio devices is a vhost. This is not the case in Firecracker as we use Tap devices as a backend for virtio-net. I can also look into this to see how we can accommodate backends that are not vhost. I am not sure how much the implementation changes when using vhost as backend, but one option would be to use Rust features to switch between vhost vs non-vhost backends.", "updated_at": "2019-02-11T08:36:56Z", "url": "https://api.github.com/repos/rust-vmm/community/issues/comments/462250705", "author_association": "MEMBER", "html_url": "https://github.com/rust-vmm/community/issues/13#issuecomment-462250705", "created_at": "2019-02-11T08:36:56Z", "id": 462250705, "node_id": "MDEyOklzc3VlQ29tbWVudDQ2MjI1MDcwNQ=="}, {"user": {"following_url": "https://api.github.com/users/jiangliu/following{/other_user}", "url": "https://api.github.com/users/jiangliu", "site_admin": false, "gists_url": "https://api.github.com/users/jiangliu/gists{/gist_id}", "node_id": "MDQ6VXNlcjE5MzE1MTY=", "starred_url": "https://api.github.com/users/jiangliu/starred{/owner}{/repo}", "gravatar_id": "", "id": 1931516, "events_url": "https://api.github.com/users/jiangliu/events{/privacy}", "avatar_url": "https://avatars0.githubusercontent.com/u/1931516?v=4", "login": "jiangliu", "repos_url": "https://api.github.com/users/jiangliu/repos", "subscriptions_url": "https://api.github.com/users/jiangliu/subscriptions", "followers_url": "https://api.github.com/users/jiangliu/followers", "html_url": "https://github.com/jiangliu", "received_events_url": "https://api.github.com/users/jiangliu/received_events", "type": "User", "organizations_url": "https://api.github.com/users/jiangliu/orgs"}, "issue_url": "https://api.github.com/repos/rust-vmm/community/issues/13", "body": ">It looks to me that with this architecture you are assuming that the backend for all virtio devices is a vhost.\r\nThat may not be true. \r\nPer my understanding, the relationship among device, virtio and vhost looks like this:\r\n![image](https://user-images.githubusercontent.com/1931516/52572072-f1795480-2e51-11e9-9180-e6469f95cd34.png)\r\n\r\nSo vhost may be positioned as an accelerator for virtio devices.\r\n\r\n", "updated_at": "2019-02-11T15:09:40Z", "url": "https://api.github.com/repos/rust-vmm/community/issues/comments/462362055", "author_association": "MEMBER", "html_url": "https://github.com/rust-vmm/community/issues/13#issuecomment-462362055", "created_at": "2019-02-11T15:09:40Z", "id": 462362055, "node_id": "MDEyOklzc3VlQ29tbWVudDQ2MjM2MjA1NQ=="}, {"user": {"following_url": "https://api.github.com/users/sboeuf/following{/other_user}", "url": "https://api.github.com/users/sboeuf", "site_admin": false, "gists_url": "https://api.github.com/users/sboeuf/gists{/gist_id}", "node_id": "MDQ6VXNlcjIyODkwNDEz", "starred_url": "https://api.github.com/users/sboeuf/starred{/owner}{/repo}", "gravatar_id": "", "id": 22890413, "events_url": "https://api.github.com/users/sboeuf/events{/privacy}", "avatar_url": "https://avatars3.githubusercontent.com/u/22890413?v=4", "login": "sboeuf", "repos_url": "https://api.github.com/users/sboeuf/repos", "subscriptions_url": "https://api.github.com/users/sboeuf/subscriptions", "followers_url": "https://api.github.com/users/sboeuf/followers", "html_url": "https://github.com/sboeuf", "received_events_url": "https://api.github.com/users/sboeuf/received_events", "type": "User", "organizations_url": "https://api.github.com/users/sboeuf/orgs"}, "issue_url": "https://api.github.com/repos/rust-vmm/community/issues/13", "body": "All devices are virtio devices (unless we talk about real devices using VFIO for instance), since they all uses virtqueues to communicate with the driver in the guest. But the main difference between all those devices is the backend, and we can classify the backends into 2 categories, `vhost` or `non-vhost`. And in case of vhost, we can have several sub-categories such as `vhost-kernel` or `vhost-user`.\r\nAnother aspect of virtio devices, that is completely orthogonal from the backend is the transport layer being chosen, that can be either `virtio-pci` or `virtio-mmio`.", "updated_at": "2019-02-11T16:04:42Z", "url": "https://api.github.com/repos/rust-vmm/community/issues/comments/462383636", "author_association": "MEMBER", "html_url": "https://github.com/rust-vmm/community/issues/13#issuecomment-462383636", "created_at": "2019-02-11T16:03:53Z", "id": 462383636, "node_id": "MDEyOklzc3VlQ29tbWVudDQ2MjM4MzYzNg=="}, {"user": {"following_url": "https://api.github.com/users/jiangliu/following{/other_user}", "url": "https://api.github.com/users/jiangliu", "site_admin": false, "gists_url": "https://api.github.com/users/jiangliu/gists{/gist_id}", "node_id": "MDQ6VXNlcjE5MzE1MTY=", "starred_url": "https://api.github.com/users/jiangliu/starred{/owner}{/repo}", "gravatar_id": "", "id": 1931516, "events_url": "https://api.github.com/users/jiangliu/events{/privacy}", "avatar_url": "https://avatars0.githubusercontent.com/u/1931516?v=4", "login": "jiangliu", "repos_url": "https://api.github.com/users/jiangliu/repos", "subscriptions_url": "https://api.github.com/users/jiangliu/subscriptions", "followers_url": "https://api.github.com/users/jiangliu/followers", "html_url": "https://github.com/jiangliu", "received_events_url": "https://api.github.com/users/jiangliu/received_events", "type": "User", "organizations_url": "https://api.github.com/users/jiangliu/orgs"}, "issue_url": "https://api.github.com/repos/rust-vmm/community/issues/13", "body": "Exactly! \nSo I propose to combine vhost-user and vhost-kernel into a unified vhost crate and provide a common interface trait for them.\n\n> On Feb 12, 2019, at 12:03 AM, Sebastien Boeuf <notifications@github.com <mailto:notifications@github.com>> wrote:\n> \n> All devices are virtio devices, since they all uses virtqueues to communicate with the driver in the guest. But the main difference between all those devices is the backend, and we can classify the backends into 2 categories, vhost or non-vhost. And in case of vhost, we can have several sub-categories such as vhost-kernel or vhost-user.\n> Another aspect of virtio devices, that is completely orthogonal from the backend is the transport layer being chosen, that can be either virtio-pci or virtio-mmio.\n> \n> \u2014\n> You are receiving this because you were mentioned.\n> Reply to this email directly, view it on GitHub <https://github.com/rust-vmm/community/issues/13#issuecomment-462383636>, or mute the thread <https://github.com/notifications/unsubscribe-auth/AB14_PYfkcwBMQgMNQcZQvPIEW4HDHeWks5vMZRpgaJpZM4axTLp>.\n> \n\n", "updated_at": "2019-02-11T16:11:28Z", "url": "https://api.github.com/repos/rust-vmm/community/issues/comments/462386655", "author_association": "MEMBER", "html_url": "https://github.com/rust-vmm/community/issues/13#issuecomment-462386655", "created_at": "2019-02-11T16:11:28Z", "id": 462386655, "node_id": "MDEyOklzc3VlQ29tbWVudDQ2MjM4NjY1NQ=="}, {"user": {"following_url": "https://api.github.com/users/sboeuf/following{/other_user}", "url": "https://api.github.com/users/sboeuf", "site_admin": false, "gists_url": "https://api.github.com/users/sboeuf/gists{/gist_id}", "node_id": "MDQ6VXNlcjIyODkwNDEz", "starred_url": "https://api.github.com/users/sboeuf/starred{/owner}{/repo}", "gravatar_id": "", "id": 22890413, "events_url": "https://api.github.com/users/sboeuf/events{/privacy}", "avatar_url": "https://avatars3.githubusercontent.com/u/22890413?v=4", "login": "sboeuf", "repos_url": "https://api.github.com/users/sboeuf/repos", "subscriptions_url": "https://api.github.com/users/sboeuf/subscriptions", "followers_url": "https://api.github.com/users/sboeuf/followers", "html_url": "https://github.com/sboeuf", "received_events_url": "https://api.github.com/users/sboeuf/received_events", "type": "User", "organizations_url": "https://api.github.com/users/sboeuf/orgs"}, "issue_url": "https://api.github.com/repos/rust-vmm/community/issues/13", "body": "SGTM", "updated_at": "2019-02-11T16:14:16Z", "url": "https://api.github.com/repos/rust-vmm/community/issues/comments/462387823", "author_association": "MEMBER", "html_url": "https://github.com/rust-vmm/community/issues/13#issuecomment-462387823", "created_at": "2019-02-11T16:14:16Z", "id": 462387823, "node_id": "MDEyOklzc3VlQ29tbWVudDQ2MjM4NzgyMw=="}, {"user": {"following_url": "https://api.github.com/users/dagrh/following{/other_user}", "url": "https://api.github.com/users/dagrh", "site_admin": false, "gists_url": "https://api.github.com/users/dagrh/gists{/gist_id}", "node_id": "MDQ6VXNlcjYzMjk3NjA=", "starred_url": "https://api.github.com/users/dagrh/starred{/owner}{/repo}", "gravatar_id": "", "id": 6329760, "events_url": "https://api.github.com/users/dagrh/events{/privacy}", "avatar_url": "https://avatars1.githubusercontent.com/u/6329760?v=4", "login": "dagrh", "repos_url": "https://api.github.com/users/dagrh/repos", "subscriptions_url": "https://api.github.com/users/dagrh/subscriptions", "followers_url": "https://api.github.com/users/dagrh/followers", "html_url": "https://github.com/dagrh", "received_events_url": "https://api.github.com/users/dagrh/received_events", "type": "User", "organizations_url": "https://api.github.com/users/dagrh/orgs"}, "issue_url": "https://api.github.com/repos/rust-vmm/community/issues/13", "body": "a good chunk of vhost user is packing/unpacking the messages on the vhost-user socket and doing something useful with them 9Like mapping memory); which I assume is something that none of the other crates cases care about.\r\n", "updated_at": "2019-02-11T17:47:35Z", "url": "https://api.github.com/repos/rust-vmm/community/issues/comments/462424509", "author_association": "NONE", "html_url": "https://github.com/rust-vmm/community/issues/13#issuecomment-462424509", "created_at": "2019-02-11T17:47:35Z", "id": 462424509, "node_id": "MDEyOklzc3VlQ29tbWVudDQ2MjQyNDUwOQ=="}]