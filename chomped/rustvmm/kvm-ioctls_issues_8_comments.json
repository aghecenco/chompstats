[{"user": {"following_url": "https://api.github.com/users/rhdrjones/following{/other_user}", "url": "https://api.github.com/users/rhdrjones", "site_admin": false, "gists_url": "https://api.github.com/users/rhdrjones/gists{/gist_id}", "node_id": "MDQ6VXNlcjI1ODgzOTk=", "starred_url": "https://api.github.com/users/rhdrjones/starred{/owner}{/repo}", "gravatar_id": "", "id": 2588399, "events_url": "https://api.github.com/users/rhdrjones/events{/privacy}", "avatar_url": "https://avatars3.githubusercontent.com/u/2588399?v=4", "login": "rhdrjones", "repos_url": "https://api.github.com/users/rhdrjones/repos", "subscriptions_url": "https://api.github.com/users/rhdrjones/subscriptions", "followers_url": "https://api.github.com/users/rhdrjones/followers", "html_url": "https://github.com/rhdrjones", "received_events_url": "https://api.github.com/users/rhdrjones/received_events", "type": "User", "organizations_url": "https://api.github.com/users/rhdrjones/orgs"}, "issue_url": "https://api.github.com/repos/rust-vmm/kvm-ioctls/issues/8", "body": "> Currently kvm-ioctls only has support for x86_64.\r\n> \r\n>     * [x]  Setup CI for ARM\r\n> \r\n>     * [ ]  Add ARM specific coverage test #9\r\n> \r\n>     * [x]  Add ARM specific ioclts\r\n> \r\n>     * [ ]  Add unit tests for ARM\r\n> \r\n>     * [ ]  Add `run_code` example with ARM\r\n\r\nI'll take a look at these missing bullets in the reverse order they're listed, i.e. starting with the run_code example.\r\n", "updated_at": "2019-04-18T07:35:05Z", "url": "https://api.github.com/repos/rust-vmm/kvm-ioctls/issues/comments/484389989", "author_association": "NONE", "html_url": "https://github.com/rust-vmm/kvm-ioctls/issues/8#issuecomment-484389989", "created_at": "2019-04-18T07:35:05Z", "id": 484389989, "node_id": "MDEyOklzc3VlQ29tbWVudDQ4NDM4OTk4OQ=="}, {"user": {"following_url": "https://api.github.com/users/michael2012z/following{/other_user}", "url": "https://api.github.com/users/michael2012z", "site_admin": false, "gists_url": "https://api.github.com/users/michael2012z/gists{/gist_id}", "node_id": "MDQ6VXNlcjIxMDMwMjY=", "starred_url": "https://api.github.com/users/michael2012z/starred{/owner}{/repo}", "gravatar_id": "", "id": 2103026, "events_url": "https://api.github.com/users/michael2012z/events{/privacy}", "avatar_url": "https://avatars0.githubusercontent.com/u/2103026?v=4", "login": "michael2012z", "repos_url": "https://api.github.com/users/michael2012z/repos", "subscriptions_url": "https://api.github.com/users/michael2012z/subscriptions", "followers_url": "https://api.github.com/users/michael2012z/followers", "html_url": "https://github.com/michael2012z", "received_events_url": "https://api.github.com/users/michael2012z/received_events", "type": "User", "organizations_url": "https://api.github.com/users/michael2012z/orgs"}, "issue_url": "https://api.github.com/repos/rust-vmm/kvm-ioctls/issues/8", "body": "`KVM_GET_VCPU_EVENTS` and `KVM_SET_VCPU_EVENTS` are restricted to x86 new, but they became enabled on aarch64 in recent versions of kernel.\r\nAny good practice to handle such kernel-version-sensitive ioctls?", "updated_at": "2019-11-27T06:05:18Z", "url": "https://api.github.com/repos/rust-vmm/kvm-ioctls/issues/comments/558944078", "author_association": "NONE", "html_url": "https://github.com/rust-vmm/kvm-ioctls/issues/8#issuecomment-558944078", "created_at": "2019-11-27T06:05:18Z", "id": 558944078, "node_id": "MDEyOklzc3VlQ29tbWVudDU1ODk0NDA3OA=="}, {"user": {"following_url": "https://api.github.com/users/andreeaflorescu/following{/other_user}", "url": "https://api.github.com/users/andreeaflorescu", "site_admin": false, "gists_url": "https://api.github.com/users/andreeaflorescu/gists{/gist_id}", "node_id": "MDQ6VXNlcjI4MTU5NDQ=", "starred_url": "https://api.github.com/users/andreeaflorescu/starred{/owner}{/repo}", "gravatar_id": "", "id": 2815944, "events_url": "https://api.github.com/users/andreeaflorescu/events{/privacy}", "avatar_url": "https://avatars0.githubusercontent.com/u/2815944?v=4", "login": "andreeaflorescu", "repos_url": "https://api.github.com/users/andreeaflorescu/repos", "subscriptions_url": "https://api.github.com/users/andreeaflorescu/subscriptions", "followers_url": "https://api.github.com/users/andreeaflorescu/followers", "html_url": "https://github.com/andreeaflorescu", "received_events_url": "https://api.github.com/users/andreeaflorescu/received_events", "type": "User", "organizations_url": "https://api.github.com/users/andreeaflorescu/orgs"}, "issue_url": "https://api.github.com/repos/rust-vmm/kvm-ioctls/issues/8", "body": "@michael2012z we currently use the v4.20 bindings. So probably we want to have the ioctls that are available in 4.20. We didn't discuss about adding bindings to newer kernel versions. I think we can send an email to rust-vmm to see what other people think about this. I don't really have strong preferences here. If the ioctls available in newer versions have associated caps that we can check before calling them, it should be okay to add them directly. Otherwise we might want to use rust features to disable them by default.", "updated_at": "2019-11-27T08:08:47Z", "url": "https://api.github.com/repos/rust-vmm/kvm-ioctls/issues/comments/558976908", "author_association": "MEMBER", "html_url": "https://github.com/rust-vmm/kvm-ioctls/issues/8#issuecomment-558976908", "created_at": "2019-11-27T08:08:47Z", "id": 558976908, "node_id": "MDEyOklzc3VlQ29tbWVudDU1ODk3NjkwOA=="}, {"user": {"following_url": "https://api.github.com/users/rhdrjones/following{/other_user}", "url": "https://api.github.com/users/rhdrjones", "site_admin": false, "gists_url": "https://api.github.com/users/rhdrjones/gists{/gist_id}", "node_id": "MDQ6VXNlcjI1ODgzOTk=", "starred_url": "https://api.github.com/users/rhdrjones/starred{/owner}{/repo}", "gravatar_id": "", "id": 2588399, "events_url": "https://api.github.com/users/rhdrjones/events{/privacy}", "avatar_url": "https://avatars3.githubusercontent.com/u/2588399?v=4", "login": "rhdrjones", "repos_url": "https://api.github.com/users/rhdrjones/repos", "subscriptions_url": "https://api.github.com/users/rhdrjones/subscriptions", "followers_url": "https://api.github.com/users/rhdrjones/followers", "html_url": "https://github.com/rhdrjones", "received_events_url": "https://api.github.com/users/rhdrjones/received_events", "type": "User", "organizations_url": "https://api.github.com/users/rhdrjones/orgs"}, "issue_url": "https://api.github.com/repos/rust-vmm/kvm-ioctls/issues/8", "body": "Typically caps are also added or enabled with new API. When KVM_GET_VCPU_EVENTS and KVM_SET_VCPU_EVENTS were introduced to arm KVM_CAP_VCPU_EVENTS was enabled. As Andreea says, rust-vmm should check caps whenever possible before using their associated features.", "updated_at": "2019-11-27T08:16:09Z", "url": "https://api.github.com/repos/rust-vmm/kvm-ioctls/issues/comments/558979196", "author_association": "NONE", "html_url": "https://github.com/rust-vmm/kvm-ioctls/issues/8#issuecomment-558979196", "created_at": "2019-11-27T08:16:09Z", "id": 558979196, "node_id": "MDEyOklzc3VlQ29tbWVudDU1ODk3OTE5Ng=="}, {"user": {"following_url": "https://api.github.com/users/michael2012z/following{/other_user}", "url": "https://api.github.com/users/michael2012z", "site_admin": false, "gists_url": "https://api.github.com/users/michael2012z/gists{/gist_id}", "node_id": "MDQ6VXNlcjIxMDMwMjY=", "starred_url": "https://api.github.com/users/michael2012z/starred{/owner}{/repo}", "gravatar_id": "", "id": 2103026, "events_url": "https://api.github.com/users/michael2012z/events{/privacy}", "avatar_url": "https://avatars0.githubusercontent.com/u/2103026?v=4", "login": "michael2012z", "repos_url": "https://api.github.com/users/michael2012z/repos", "subscriptions_url": "https://api.github.com/users/michael2012z/subscriptions", "followers_url": "https://api.github.com/users/michael2012z/followers", "html_url": "https://github.com/michael2012z", "received_events_url": "https://api.github.com/users/michael2012z/received_events", "type": "User", "organizations_url": "https://api.github.com/users/michael2012z/orgs"}, "issue_url": "https://api.github.com/repos/rust-vmm/kvm-ioctls/issues/8", "body": "@andreeaflorescu @rhdrjones Thanks. \r\nChecking caps is a good idea. We can use `check_extension()` defined in `system.rs` to check caps before calling the ioctl. \r\nI created PR https://github.com/rust-vmm/kvm-ioctls/pull/73 for it.", "updated_at": "2019-12-02T02:25:54Z", "url": "https://api.github.com/repos/rust-vmm/kvm-ioctls/issues/comments/559106456", "author_association": "NONE", "html_url": "https://github.com/rust-vmm/kvm-ioctls/issues/8#issuecomment-559106456", "created_at": "2019-11-27T14:19:26Z", "id": 559106456, "node_id": "MDEyOklzc3VlQ29tbWVudDU1OTEwNjQ1Ng=="}]